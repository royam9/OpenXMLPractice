"use strict";function _defineProperty(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}!function(e,n,o){function t(e){for(var n=window.location.search.substring(1),o=n.split("&"),t=0;t<o.length;t++){var a=o[t].split("=");if(a[0]==e)return a[1]}return""}function a(e,n){var t;o(n).hide(),e.addEventListener("mouseover",function(){o(n).show(),setTimeout(function(){n.classList.add("show")},0),clearTimeout(t)}),e.addEventListener("mouseout",function(){t=setTimeout(function(){n.classList.remove("show"),setTimeout(function(){o(n).hide()},600)},1e3)}),n.addEventListener("mouseover",function(){clearTimeout(t)}),n.addEventListener("mouseout",function(){t=setTimeout(function(){n.classList.remove("show"),o(n).hide()},1e3)})}function i(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,t=n.createElement("div");t.innerHTML=e,t.style.cssText="min-width:124px;padding:0 8px;opacity: 0.8;height: 40px;background:rgba(34,34,38,1);color: rgb(255, 255, 255);line-height: 40px;text-align: center;border-radius: 4px;position: fixed;top: 35%;left:50%;transform: translateX(-50%);z-index: 999999;font-size: 16px;",n.getElementById("order-payment").appendChild(t),setTimeout(function(){t.style.webkitTransition="-webkit-transform 0.5s ease-in, opacity 0.5s ease-in",t.style.opacity="0",setTimeout(function(){n.getElementById("order-payment")&&n.getElementById("order-payment").removeChild(t)},500)},o)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n='\n      <div class="loading_warp" id="order-payment-loading">\n        <div class="icon_box">\n          <img class="rotating" src="'+y+'/icon-paying.png"/>\n        </div>\n        <div class="pay_msg">查询中...</div>\n        <img class="pay_other" src="'+y+'/pay-other.png"/>\n      </div>\n    ';o(".orderpayment_dialog").append(n),setTimeout(function(){o("#order-payment-loading").remove()},e)}function r(){var e=c("api_env")||"",n="https://mall.csdn.net/",o=/^beta|test|loc[a-z]*/;return e.match(o)?n="https://test-mall.csdn.net/":e.match(/^pre-|pre[a-z]*/)&&(n="https://pre-mall.csdn.net/"),n}function c(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(n);return null!=o?unescape(o[2]):null}function d(e,t){QRCode?t.pay_url&&(o("#ordertip_qr_code").html(""),o("#ordertip_notify").hide(),o("#pay_btn").attr("href",t.pay_url),new QRCode(n.getElementById("ordertip_qr_code"),{text:t.pay_url,width:145,height:145})):void 0}function l(){m("pay_error","获取失败,点击重试","code_2")}function p(){m("pay_time_out","点击重新获取","")}function _(){m("pay_error","已扫码<br>请在手机端操作","")}function u(e){function n(){i("支付成功","1500"),setTimeout(function(){v?(x.close(),v()):window.location.reload()},1500)}function t(){h.currentScene===I?h.checkRecharge():(i("余额充值成功，使用余额支付完成购买吧","1500"),o(".orderpayment_c_l_goodsitem").trigger("click"))}s(),setTimeout(function(){x.activeGoodsId==x.goodsInfo.goods_id?n():h.currentScene===I&&h.isBalancePayOk&&"click"===e?n():t()},1500)}function m(e,n,t){o("#ordertip_notify").show().html('<img class="pay_icon" src="https://csdnimg.cn/release/download/images/'+e+'.png"/><span class="pay_tip">'+n+"</span>"),o("#ordertip_qr_code").html('<img src="https://csdnimg.cn/public/static/img/csdn-userimg250.gif" width="145" height="145"/>'),"pay_time_out"==e?o("#ordertip_notify .pay_icon,#ordertip_notify .pay_tip").on("click",function(){x.getPayCode()}):o("#ordertip_notify .pay_icon,#ordertip_notify .pay_tip").off("click")}function g(){this.currentScene="balancePopup",this.checkBalanceGoods=!1,this.goodsInfo={},this.balanceList={},this.balanceGoodsInfo={},this.activeGoodsId="",this.isUseBalance=!0,this.errType="",this.reportExt={},this.navList=[],this.payMethods=[],this.price=0,this.payUrl="",this.params={},this._cart=null,this.show_params={},this.init_params={},this.isBalancePayOk=!1,this.userShoppingInfo=[],h=this}var f="https://g.csdnimg.cn/order-payment/",y=f+"3.1.1-download-e/images",h=null,v=null,b="default",w={blog:"直接购买<br />无限次学习",download:"直接购买<br />立即下载资料",default:"放弃优惠<br />直接购买"},I="balanceScore";!function(){var e=window.location.host;b=-1!==e.indexOf("blog.csdn.net")?"blog":-1!==e.indexOf("download.csdn.net")?"download":"default"}(),function(e){var o=n.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e,n.getElementsByTagName("head")[0].appendChild(o)}("https://g.csdnimg.cn/order-payment/3.1.1-download-e/order-payment.css"),g.prototype={constructor:g,close:function(){window._orderPayment_countDown_timer&&clearInterval(window._orderPayment_countDown_timer),o("#order-payment-box").remove()},show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return window.csdn.cart?window.csdn.cartClass?(this.init(e),void this.reportDialogView()):void void 0:void void 0},reportDialogView:function(){try{window.csdn.report&&window.csdn.report.reportView({spm:"3001.10044",extra:JSON.stringify(Object.assign(this.reportExt||{},{version:"control"}))})}catch(e){void 0}},init:function(e){this._cart=new window.csdn.cartClass,this.sale=e.sale_source||t("sale_source"),this.reportExt=e.report_ext||{},"function"==typeof e.get_pay_success_callback&&(v=e.get_pay_success_callback,delete e.get_pay_success_callback),e.currentScene===I&&(h.currentScene=I,delete e.currentScene),this.show_params=e,this.init_params=JSON.parse(JSON.stringify(e)),this.getGoodsInfo(e,function(e){h.goodsInfo=e,h.goodsCodeData(e.new_price,e.available_amount),h.getUserShoppingInfo(),h.getGoodsShowList()},!1)},bindEvents:function(){var e=this;o(n).off("click",".orderpayment_dialog .user_balance").on("click",".orderpayment_dialog .user_balance",function(){if(e.currentScene===I)return!1;if(o(".orderpayment_dialog .user_balance").hasClass("disable"))return void(e.isUseBalance=!1);o(".orderpayment_dialog .user_balance").hasClass("active")?(o(".orderpayment_dialog .user_balance").removeClass("active"),e.isUseBalance=!1):(o(".orderpayment_dialog .user_balance").addClass("active"),e.isUseBalance=!0),e.goodsCodeData(e.goodsInfo.new_price,e.goodsInfo.available_amount),e.changePriceHtml(e.price);var n=e.checkBalanceGoods?e.balanceGoodsInfo:e.goodsInfo;e.getPayCode(n)}),o(n).off("click","#pay_btn").on("click","#pay_btn",function(n){if(e.currentScene===I&&!e.isBalancePayOk)return i("余额不足请充值","1500"),!1;e._cart.quickBuy({params:{product_id:e.goodsInfo.product_id,goods_id:e.goodsInfo.goods_id,flag:e.goodsInfo.flag,is_use_balance:2},get_pay_success_callback:function(e){200==e.code&&!1===e.data.need_third_pay&&u("click")},error_function:function(e){400103012==e.status&&o(".orderpayment_item.active").trigger("click"),void 0}})}),o(n).off("click",".orderpayment_dialog .orderpayment_header_btn").on("click",".orderpayment_header_btn",function(n){window.orderPayment.close();var o=e.init_params.closeBtnSpm;o&&window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:o||""})}),o(n).on("click",".orderpayment_item",function(n){var t=JSON.parse(o(this).attr("data-goods")||"{}");if(!o(this).hasClass("active"))return o(this).addClass("active").siblings().removeClass("active"),e.getGoodsInfo(t,function(n){"balance"===t.type?(e.checkBalanceGoods=!0,e.balanceGoodsInfo=n,e.activityDesc2=e.balanceList[t.index].ext.activityDesc2||"",e.activityTips=e.balanceList[t.index].ext.activityTips||""):(e.goodsInfo=n,e.checkBalanceGoods=!1,n.available_amount>0&&(e.isUseBalance=!0)),e.activeGoodsId=n.goods_id,e.goodsCodeData(n.new_price,n.available_amount),o(".orderpayment_dialog .commodity_box").html("").append(e.setPayPriceHtml()),o(".orderpayment_dialog .scan_code").html("").append(e.setPaylistHtml())}),setTimeout(function(){e.balanceGoodsInfo.new_price?o(".orderpayment_dialog .code_money_value").text("当前充值¥"+e.balanceGoodsInfo.new_price+"元").show():o(".orderpayment_dialog .code_money_value").hide()},100),void e.setCountDown()})},initDialog:function(){this.bindEvents(),this.renderDialog(),this.currentScene===I&&this.firstFindRechargeAndClick(),this.autoFind_activityDesc2_Sku_showTips(),window._orderPayment_countDown_timer&&clearInterval(window._orderPayment_countDown_timer)},cancelRechargeSetGoodsInfo:function(){h.currentScene===I&&h.getGoodsInfo(h.init_params,function(e){h.goodsInfo=e,h.goodsCodeData(e.new_price,e.available_amount),h.checkIsBalancePayOk()&&(h.checkBalanceGoods=!1,h.activeGoodsId=h.goodsInfo.goods_id,o(".orderpayment_dialog .commodity_box").html("").append(h.setPayPriceHtml()))},!1)},checkRecharge:function(){h.getGoodsInfo(h.init_params,function(e){h.goodsInfo=e,h.goodsCodeData(e.new_price,e.available_amount),h.checkIsBalancePayOk()?(i("余额充值成功，使用余额支付完成购买吧","1500"),h.checkBalanceGoods=!1,o(".orderpayment_dialog .orderpayment_item.active").removeClass("active"),h.activeGoodsId=h.goodsInfo.goods_id,o(".orderpayment_dialog .commodity_box").html("").append(h.setPayPriceHtml()),setTimeout(function(){o(".orderpayment_dialog .recharge_mode").addClass("visnone")},300)):(i("余额充值成功，钱包余额不足完成购买","1500"),h.autoFindRechargeAndClick())},!1)},firstFindRechargeAndClick:function(){if(Array.isArray(h.balanceList)){var e=2;e=h.balanceList.findIndex(function(e){return 1===e.ext.default}),o(".orderpayment_c_goodslist .orderpayment_item").eq(e).trigger("click")}},autoFind_activityDesc2_Sku_showTips:function(){var e=h.balanceList.filter(function(e){return e.ext&&e.ext.activityDesc2});if(e.length>0){var t=e[0].ext;if(t.activityDesc2&&o(".orderpayment_dialog .orderpayment_c_activity .desc-text").text(t.activityDesc2),t.activityTips){o(".orderpayment_dialog .orderpayment_c_activity .activity_tips_box").show(),o(".orderpayment_dialog .orderpayment_c_activity .tip-content").html(t.activityTips.replace(/\\n/g,"<br>"));a(n.querySelector(".orderpayment_dialog .activity_tips_box"),n.querySelector(".orderpayment_dialog .activity_tips"))}}},autoFindRechargeAndClick:function(){if(!h.isBalancePayOk&&Array.isArray(h.balanceList)){var e=h.goodsInfo.new_price,n=h.goodsInfo.available_amount,t=Number(e)-Number(n),a=h.balanceList.length-1,i=h.balanceList.findIndex(function(e){return Number(e.ext.originalPrice)>=t});i>=0&&(a=i),o(".orderpayment_c_goodslist .orderpayment_item").eq(a).trigger("click")}},setShoppingHtml:function(){for(var e=this.userShoppingInfo.length,n="",o=0;o<e;o++)n+="<li><span>"+this.userShoppingInfo[o].username+"</span><span> 刚刚</span> 充值 "+this.userShoppingInfo[o].goodsName+"元</li>";return n},setGoodsListHtml:function(){for(var e="",n=0;n<this.balanceList.length;n++){var o=this.balanceList[n],t=o.ext||{};e+='<div class="orderpayment_c_l_bitem orderpayment_item '+(this.activeGoodsId==this.balanceList[n].ext.goodsId?"active":"")+"\" data-goods='"+JSON.stringify({index:n,goods_id:t.goodsId,product_id:t.productId,flag:t.flag,type:"balance"})+"'>\n          <span class=\"orderpayment_c_l_b_tips "+("1024.00"===t.originalPrice?"special":"")+"  "+(t.activityContent?"":"none")+'">'+(t.activityContent||"")+'</span>\n          <div class="orderpayment_c_l_b_price"><span>¥</span>'+t.price+'</div>\n          <div class="orderpayment_c_l_b_dis">'+(t.activityDiscountDesc||"")+'</div>\n          <div class="orderpayment_c_l_b_activity"><p>'+(t.activityDesc||"")+"</p></div>\n        </div>"}var a='<div class="orderpayment_c_l_goodsitem orderpayment_c_l_bitem orderpayment_item '+(this.activeGoodsId==this.goodsInfo.goods_id?"active":"")+"\" data-goods='"+JSON.stringify({goods_id:this.goodsInfo.goods_id,product_id:this.goodsInfo.product_id,flag:this.goodsInfo.flag})+'\'>\n        <span class="orderpayment_c_l_b_tips" >暂无优惠</span>\n          <div class="orderpayment_c_l_b_price"><span>¥</span>'+this.goodsInfo.old_price+'</div>\n          <div class="orderpayment_c_l_b_activity"><p>'+w[b]+"</p></div>\n      </div>";return h.currentScene===I?e:e+a},setPaylistHtml:function(){var e=h.checkBalanceGoods?h.balanceGoodsInfo:h.goodsInfo,n=[];e.payTypeList&&e.payTypeList.forEach(function(e){"unionpay"!==e.name&&n.push(e)});for(var o="",t=0;t<n.length;t++)o+='<img class="icon_item '+n[t].name+'" src='+JSON.stringify(n[t].image)+' alt="img">';return o+'<span class="pay_intro">扫码支付</span>'},setPayPriceHtml:function(){var e=h.checkBalanceGoods?h.balanceGoodsInfo:h.goodsInfo,n='<li class="amount_actually">\n      实付金额<span class="num">¥ <b>'+h.price+"</b></span><em>原价<i>"+e.old_price+"</i>元</em>\n    </li>",o='<li class="source_price">\n          资源所需价格<span class="num">¥ <b>'+h.goodsInfo.new_price+"</b></span>\n        </li>",t=h.currentScene===I,a=t?o:n,i=h.init_params.dlCrossedPriceInfo||{};if(i.funSwitch&&i.sourcePrice){var s=(i.sourcePrice/100).toFixed(2);a=this.initUnderlinePrice(i.activityName,h.goodsInfo.new_price,s)}return'<ul class="commodity_desc">\n                    '+a+'   \n                    \n                    <li class="gift '+(e.discount_msg?"block":"none")+'">\n                      <img src="'+y+'/enjoy.png" alt="">\n                      <span>'+e.discount_msg+'</span>\n                    </li>\n\n                    <li class="user_balance '+function(){return h.currentScene===I?"active not-allowed":e.available_amount>0?h.isUseBalance?"active":"":"disable"}()+" "+(19!==e.flag||t?"":"none")+'" >\n                      <img src="'+y+'/unchecked.png" alt="" class="unchecked">\n                      <img src="'+y+'/checked.png" alt="" class="checked">\n                    钱包余额  <b class="num">'+e.available_amount+'</b>\n                      <div class="balance_tips_box">\n                        <img src="'+y+'/help.png" alt="" class="help">\n                        <span class="balance_tips">\n                          <i class="chat"></i>\n                          <b>抵扣说明：</b>\n                          <em>1、余额是钱包充值的虚拟货币，按照1:1的比例进行支付金额的抵扣；</em>\n                          <em>2、余额可购买下载资源、VIP、视频课、付费专栏等内容；</em>\n                        </span>\n                      </div>\n                    </li>\n\n                    <div class="btn '+(0==h.price||t?"block":"none")+'" id="pay_btn">'+function(){var e="确定支付"+(t?"并下载":"");return Number(h.goodsInfo.available_amount)<Number(h.goodsInfo.new_price)?(h.isBalancePayOk=!1,e="余额不足请充值"):h.isBalancePayOk=!0,e}()+"</div>\n                  </ul>"},checkIsBalancePayOk:function(){return Number(this.goodsInfo.available_amount)>=Number(this.goodsInfo.new_price)},renderDialog:function(){function n(){p.animate({top:"-="+_+"px"},2e4,"linear",function(){p.css({top:"0px"}),n()})}var t=this;this.createMask();var a=this.setGoodsListHtml(),i=this.setPaylistHtml(),s=this.setPayPriceHtml(),r=this.setShoppingHtml(),c=t.init_params.dlCrossedPriceInfo||{},d='<div id="order-payment" class="order-payment">\n          <div class="orderpayment_dialog">\n              <div class="orderpayment_header">\n                <div class="orderpayment_header_title">扫码支付</div>\n                <span class="orderpayment_header_btn"> + </span>\n              </div>\n              <div class="orderpayment_content">\n                <div class="orderpayment_c_goodsinfo">\n                  <div class="orderpayment_c_goods_warp">\n                    <img class="orderpayment_c_goods_img" src="'+(this.goodsInfo.product_pic||"https://img-home.csdnimg.cn/images/20210910025238.png")+'" />\n                  </div>\n                  <div class="orderpayment_c_goods_t"><p>'+this.goodsInfo.name+'</p></div>\n                </div>\n                <div class="orderpayment_c_goodslist">\n                  '+a+'\n                </div>\n                <div class="orderpayment_c_activity">\n                   <span class="desc-text"">'+(this.goodsInfo.activityDesc||"")+'</span>\n                   <div style="display:none" class="activity_tips_box">\n                        <img src="'+y+'/help.png" alt="" class="help">\n                        <span class="activity_tips">\n                          <i class="chat"></i>\n                           <div class="tip-content"></div>\n                        </span>\n                      </div>\n                </div>\n                <div class="orderpayment_paybox">\n                  <div class="recharge_mode '+function(){return 0!=t.price?"block":"visnone"}()+'">\n                    <div style="display:none"  class="code_money_value"></div>\n                    <div class="recharge_mode_qr_code" id="ordertip_qr_code">\n                      <img class="loading" src="'+y+'/checked.png" width="50" height="50">\n                    </div>\n                    <div id="ordertip_notify" class="pay_notify"></div>\n                    <p class="scan_code">\n                      '+i+'\n                    </p>\n                  </div>\n\n                  <div class="commodity_box">\n                    '+s+'\n                  </div>\n\n                  <div class="shoppingInfo_container '+(c.funSwitch?"has_underline_price":"")+'">\n                    <ul class="shoppingInfo_list">'+r+'</ul>\n                    <ul class="shoppingInfo_list">'+r+'</ul>\n                  </div>\n                </div>\n              </div>\n          </div>\n          <div class="orderpayment_mask"></div>\n      </div>\n      ',l=o(d);o("#order-payment-box").append(l);var p=o(".shoppingInfo_list"),_=o(".shoppingInfo_list").height();n(),e.report&&window.csdn.report.viewCheck(),setTimeout(function(){t.setCountDown()},1e3)},initUnderlinePrice:function(e,n,o){var t=this.init_params.dlCrossedPriceInfo||{},a=this.countDown(1e3*t.endTimeStamp);return'<div class="underline-price-box">\n     <div class="top">\n        <div class="top-name"> '+e+'</div>\n        <div class="countdown">距离结束&nbsp;<span>'+a.hours+"</span>:<span>"+a.minutes+"</span>:<span>"+a.seconds+'</span>\n        </div>\n     </div>\n     <div class="price-box">\n      <div>\n      <span class="price_unit">￥</span><span class="real_price">'+n+'</span>\n       <span class="underline_price">\n       原价￥'+o+"\n      </span>\n      </div>\n     </div>\n      </div>\n      "},setCountDown:function(){function e(){var e=a.countDown(1e3*n.endTimeStamp),o=t.find("span");o.eq(0).text(e.hours),o.eq(1).text(e.minutes),o.eq(2).text(e.seconds)}window._orderPayment_countDown_timer&&clearInterval(window._orderPayment_countDown_timer);var n=this.init_params.dlCrossedPriceInfo||{};if(n.endTimeStamp){var t=o(".orderpayment_dialog .countdown"),a=this;window._orderPayment_countDown_timer=setInterval(function(){e()},1e3)}},countDown:function(e){function n(e){return e>=10?e+"":"0"+e}var o=new Date(e),t=o.getTime()-Date.now();if(t<=0)return{days:0,hours:0,minutes:0,seconds:0};var a=Math.floor(t/864e5),i=Math.floor(t%864e5/36e5),s=Math.floor(t%36e5/6e4),r=Math.floor(t%6e4/1e3);return{days:a,hours:n(i),minutes:n(s),seconds:n(r)}},createMask:function(){var e=n.createElement("div");e.id="order-payment-box",n.body.appendChild(e)},getUserShoppingInfo:function(){o.ajax({url:r()+"mp/mallorder/api/internal/goods/purchaseHistory?flagList=19&limit=20",type:"GET",dataType:"json",contentType:"application/json",async:!1,xhrFields:{withCredentials:!0},success:function(e){e.data&&e.data.length>0?h.userShoppingInfo=e.data.map(function(e){return e.username=(e.username||"").replace(/\*{3,}/g,"**"),e.goodsName=(e.goodsName||"").match(/\d+/)?e.goodsName.match(/\d+/)[0]:"",e}):void 0},error:function(e){void 0}})},getGoodsShowList:function(){var e=h.currentScene===I?I:"balancePopup";o.ajax({url:r()+"mp/mallorder/api/internal/goods/showListV2?showType="+e,type:"GET",dataType:"json",contentType:"application/json",async:!1,xhrFields:{withCredentials:!0},success:function(e){e.data?(h.balanceList=e.data[h.currentScene]||[],h.activeGoodsId=h.goodsInfo.goods_id,h.checkBalanceGoods=!1,h.initDialog(),h.getPayCode()):void 0},error:function(e){void 0}})},getGoodsInfo:function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o.ajax({url:r()+"mp/mallorder/api/internal/goods/getGoodsInfo",type:"GET",dataType:"json",data:{flag:e.flag,goods_id:e.goods_id,product_id:e.product_id},contentType:"application/json",async:!1,xhrFields:{withCredentials:!0},success:function(e){200==e.code&&e.data?(19===e.data.flag&&h.currentScene!==I&&(h.isUseBalance=!1),n&&n(e.data),h.changePriceHtml(h.price),t&&h.getPayCode(e.data)):void 0},error:function(e){void 0}})},goodsCodeData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.isUseBalance){var o=e-n<0?0:(100*e-100*n)/100;this.price=Number(o).toFixed(2)}else this.price=Number(e)},changePriceHtml:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Number(e)<=0&&h.currentScene!==I?(o(".orderpayment_dialog .recharge_mode").addClass("visnone"),o(".orderpayment_dialog #pay_btn").addClass("show").removeClass("none")):(h.activeGoodsId!==h.goodsInfo.goods_id&&o(".orderpayment_dialog .recharge_mode").removeClass("visnone"),h.currentScene!==I&&o(".orderpayment_dialog #pay_btn").removeClass("show").addClass("none")),o(".orderpayment_dialog .amount_actually .num b").html(e)},getPayCode:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.checkBalanceGoods?h.balanceGoodsInfo:h.goodsInfo,o=t("sale_source"),a=(e={product_id:n.product_id,goods_id:n.goods_id,flag:n.flag,sale_source:h.sale,report_ext:h.reportExt,is_use_balance:Number(h.isUseBalance),coupon_key:n.coupon_key,use_cache:!0},_defineProperty(e,"sale_source",o),_defineProperty(e,"success_function",d),_defineProperty(e,"error_function",l),_defineProperty(e,"timeout_function",p),_defineProperty(e,"payment_function",_),_defineProperty(e,"get_pay_success_callback",function(){return u("scan_code")}),e);h._cart.qrPay(Object.assign(h.show_params,a))},findDefaultGood:function(){var e=h.balanceList.find(function(e){return 1===e.ext.default})||{ext:{}};return Object.assign({goods_id:e.ext.goodsId||"",flag:e.ext.flag||"",product_id:e.ext.productId||""},e)}};var x=new g;window.orderPayment=x,window.csdn.userOrderPayment={show:x.show.bind(x),close:x.close.bind(x)}}(window.csdn=window.csdn||{},document,jQuery);